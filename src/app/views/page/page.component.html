<section id="posts" class="posts-expand" *ngIf="postsList && hexoConfig">
  <ng-container *ngFor="let post of postsList.data">
    <div class="reading-progress-bar" *ngIf="theme?.reading_progress.enable && !is_index"></div>
    <article [ngClass]="['post','post-type-normal']" itemscope itemtype="http://schema.org/Article">
      <div class="post-block">
        <link itemprop="mainEntityOfPage" [href]="post.permalink|safe">
        <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
          <meta itemprop="name" [content]="hexoConfig.author">
          <meta itemprop="description" [content]="hexoConfig.description">
          <meta itemprop="image" [content]="theme.avatar.url || theme.images + '/avatar.gif'">
        </span>
      </div>
      <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
        <meta itemprop="name" [content]="hexoConfig.title">
      </span>
      <!--TODO headlessPost-->
      <header class="post-header">
        <ng-container *ngIf="!(is_index&& post.type === 'quote' &&  !post.title)">
          <ng-container [ngTemplateOutlet]="theme.seo?isSeo:notSeo"></ng-container>
          <ng-template #postHeader>
            <ng-container *ngIf="post.link">
              <ng-container *ngIf="post.sticky>0">
                {{ post.sticky }}
                <span class="post-sticky-flag" [title]="'post.sticky'|translate"><i class="fa fa-thumb-tack"></i></span>
              </ng-container>
              <a class="post-title-link post-title-link-external" target="_blank" [href]="post.link|safe"
                 itemprop="url">
                {{ post.title || post.link }}
                <i class="fa fa-external-link"></i>
              </a>
            </ng-container>
            <ng-container *ngIf="!post.link">
              <ng-container *ngIf="is_index">
                <span *ngIf="post.sticky>0" class="post-sticky-flag" [title]="'post.sticky'|translate">
                  <i class="fa fa-thumb-tack"></i></span>
                <a class="post-title-link" [routerLink]="post.path" itemprop="url">
                  {{ post.title || ('post.untitled'|translate) }}
                </a>
              </ng-container>
              <ng-container *ngIf="!is_index">
                {{ post.title || ('post.untitled'|translate) }}
                <a *ngIf="theme.post_edit.enable" [href]="theme.post_edit.url+post.source.slice(7)|safe"
                   class="post-edit-link"
                   [title]="'post.edit'|translate" target="_blank">
                  <i class="fa fa-pencil"></i>
                </a>
              </ng-container>
            </ng-container>
          </ng-template>

          <ng-template #isSeo>
            <h2 class="post-title" itemprop="name headline">
              <ng-container [ngTemplateOutlet]="postHeader"></ng-container>
            </h2>
          </ng-template>
          <ng-template #notSeo>
            <h1 class="post-title" itemprop="name headline">
              <ng-container [ngTemplateOutlet]="postHeader"></ng-container>
            </h1>
          </ng-template>
        </ng-container>
      </header>
    </article>
  </ng-container>
</section>
